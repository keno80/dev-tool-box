{"version":3,"file":"index.js","sources":["../electron/index.ts"],"sourcesContent":["import { app, BrowserWindow } from 'electron'\nimport path from 'path'\n\nlet mainWindow: BrowserWindow | null = null;\n\nconst createWindow = () => {\n  if (mainWindow) return; // 避免重复创建\n\n  mainWindow = new BrowserWindow({\n    width: 800,\n    height: 600,\n    frame: false,\n    webPreferences: {\n      nodeIntegration: true,\n      contextIsolation: false, // 允许渲染进程使用 Node API\n      webSecurity: false       // 禁用同源策略（开发环境）\n    }\n  })\n\n  if (app.isPackaged) {\n    mainWindow.loadFile(path.join(__dirname, '../dist-electron/index.html'))\n  } else {\n    mainWindow.loadURL('http://localhost:5173')\n  }\n\n  mainWindow.on('closed', () => {\n    mainWindow = null\n  });\n}\n\napp.on('ready', () => {\n  createWindow()\n\n  app.on('activate', () => {\n    if (BrowserWindow.getAllWindows().length === 0) createWindow()\n  })\n})\n\napp.on('window-all-closed', () => {\n  if (process.platform !== 'darwin') app.quit()\n})"],"names":["BrowserWindow","app"],"mappings":";;;AAGA,IAAI,aAAmC;AAEvC,MAAM,eAAe,MAAM;AACzB,MAAI,WAAY;AAEhB,eAAa,IAAIA,SAAAA,cAAc;AAAA,IAC7B,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,gBAAgB;AAAA,MACd,iBAAiB;AAAA,MACjB,kBAAkB;AAAA;AAAA,MAClB,aAAa;AAAA;AAAA,IAAA;AAAA,EACf,CACD;AAED,MAAIC,SAAAA,IAAI,YAAY;AAClB,eAAW,SAAS,KAAK,KAAK,WAAW,6BAA6B,CAAC;AAAA,EAAA,OAClE;AACL,eAAW,QAAQ,uBAAuB;AAAA,EAAA;AAGjC,aAAA,GAAG,UAAU,MAAM;AACf,iBAAA;AAAA,EAAA,CACd;AACH;AAEAA,SAAAA,IAAI,GAAG,SAAS,MAAM;AACP,eAAA;AAETA,eAAA,GAAG,YAAY,MAAM;AACvB,QAAID,SAAc,cAAA,cAAA,EAAgB,WAAW,EAAgB,cAAA;AAAA,EAAA,CAC9D;AACH,CAAC;AAEDC,SAAAA,IAAI,GAAG,qBAAqB,MAAM;AAChC,MAAI,QAAQ,aAAa,SAAUA,UAAAA,IAAI,KAAK;AAC9C,CAAC;"}